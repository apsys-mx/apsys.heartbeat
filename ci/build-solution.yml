parameters:
  - name: projectName
    type: string
  - name: baseFolder
    type: string
    default: "src/"
  - name: buildConfiguration
    type: string
    default: Debug

steps:
  - task: DotNetCoreCLI@2
    displayName: "Restore packages"
    inputs:
      command: "restore"
      projects: "${{parameters.baseFolder}}${{parameters.projectName}}.sln"
      feedsToUse: "config"
      nugetConfigPath: "${{parameters.baseFolder}}NuGet.Config"
  - task: DotNetCoreCLI@2
    displayName: "Build solution"
    inputs:
      projects: "${{parameters.baseFolder}}${{parameters.projectName}}.sln"
      arguments: "--configuration ${{parameters.buildConfiguration}}"
